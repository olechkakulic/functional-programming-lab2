# Лабораторная работа №2  
**Выполнил:** Логинова Ольга, Р3331  
**Преподаватель:** Пенской Александр Владимирович  
**Язык:** Clojure  
**Вариант:** sc-set (Separate Chaining Hashmap)

---

## Требования к разработанному ПО  
- Реализовать неизменяемую структуру данных: хеш-карта с бакетами (Separate Chaining Hashmap).  
- Поддерживать операции: добавление, удаление, поиск, фильтрация, отображение, левую и правую свёртки.  
- Реализовать моноид: нейтральный элемент и ассоциативная операция объединения.  
- Обеспечить сравнение двух структур без сортировки списков (через API).  
- Написать unit-тесты и property-based тесты (минимум 3 свойства, включая свойства моноида).  
- Код должен быть написан в идиоматичном FP-стиле на Clojure, без мутаций.

---

## Ключевые элементы реализации  
- Структура представлена как Clojure-map с ключами `:buckets` (вектор бакетов) и `:capacity` (целое число).  
- Каждый бакет — вектор пар `[ключ значение]`.  
- Все операции создают новую структуру, не изменяя исходную.  
- Основные функции:  
  - `empty` — создание пустой таблицы.  
  - `add` — вставка или обновление пары.  
  - `remove` — удаление по ключу.  
  - `try-find` — поиск значения или `nil`.  
  - `contains-key` — проверка наличия ключа.  
  - `map-values` — применение функции к значениям.  
  - `filter` — фильтрация пар по предикату `(pred key value)`.  
  - `fold` / `fold-back` — свёртки влево и вправо.  
  - `combine` — объединение двух карт.  
  - `equals` — сравнение двух карт по ключам и значениям без сортировки.

---

## Тестирование  
### 1. Unit-testing  
Проверяются: вставка, удаление, фильтрация, отображение, свёртка, объединение, сравнение.  
### 2. Property-based testing  
 Проверяются свойства:  
- корректность вставки: после `add` ключ найден.  
- корректность удаления: ключ удалён, остальные прежние.  
- моноидальные свойства `combine`: нейтральный элемент и ассоциативность.  
- композиция `map-values`: `map-values f (map-values g m) == map-values (comp f g) m`.

---

## Выводы  
В этой лабораторной работе реализована иммутабельная структура данных `sc-set` — Separate Chaining Hashmap
 с бакетами, поддерживающая фильтрацию, отображение, свёртки, объединение и сравнение.  
Были написаны unit-тесты и property-based тесты, подтверждающие корректность структуры и её свойств (в том числе свойств моноида).  
Использование функциональных приёмов, отсутствие мутаций и акцент на декларативном стиле позволяют получить чистую, логичную и проверяемую реализацию.

